<template>
  <h1>debounce</h1>

  <hr>
  <h3>Using one-way binding.</h3>
  <p>Here, <code>debounce</code> is applied on the string interpolation instructions displaying the input's value.</p>
  <input ref="input">
  <p>Undebounced: ${input.value}</p>
  <p>Debounced (default delay): ${input.value & debounce}</p>
  <p>Debounced (1s delay): ${input.value & debounce:1000}</p>

  <hr>
  <h3>Using two-way binding.</h3>
  <p>Here, <code>debounce</code> is applied on the binding of the <code>value</code> attribute of the <code>input</code>. 
  They are all bound to the same view-model property, so you can clearly see that <code>debounce</code> is applied when 
  the updates flow from the input to the view-model when decorating a two-way binding.</p>
  <div>
    Undebounced:
    <input value.bind="title">
    View-model value: ${title}
  </div>
  <div>
    Debounced (default delay):
    <input value.bind="title & debounce">
    View-model value: ${title}
  </div>
  <div>
    Debounced (1s delay):
    <input value.bind="title & debounce:1000">
    View-model value: ${title}
  </div>

  <hr>
  <style>
    .mousemove {
      border: 1px solid black;
      margin: 8px;
    }
  </style>
  <h3>On events</h3>
  <p>Here, <code>debounce</code> is applied on an event binding. As such, the dispatching of the event 
  to the view-model will be debounced accordingly.</p>
  <div mousemove.delegate="position = $event" class="mousemove">
    <h4>Mouse move, undebounced</h4>
    <span hide.bind="position">Move your mouse here.</span>
    <span show.bind="position">Mouse last moved at (${position.clientX}, ${position.clientY}).</span>
  </div>
  <div mousemove.delegate="position = $event & debounce" class="mousemove">
    <h4>Mouse move, debounce (default delay)</h4>
    <span hide.bind="position">Move your mouse here.</span>
    <span show.bind="position">Mouse last moved at (${position.clientX}, ${position.clientY}).</span>
  </div>
  <div mousemove.delegate="position = $event & debounce:1000" class="mousemove">
    <h4>Mouse move, debounce (1s delay)</h4>
    <span hide.bind="position">Move your mouse here.</span>
    <span show.bind="position">Mouse last moved at (${position.clientX}, ${position.clientY}).</span>
  </div>
</template>
